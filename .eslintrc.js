const lintLevel         = parseInt(process.env.LINT_LEVEL ?? '0', 10);
const usingTypechecking = lintLevel >= 1;

const TYPESCRIPT = 'off';
const COMPILER   = 'off';

const RECOMMENDED   = severity => severity;
const TC            = severity => (usingTypechecking ? severity : 'off');
const OVERRIDE      = (use, _old) => use;

module.exports = {
    'root': true,
    'parser': '@typescript-eslint/parser',
    'parserOptions': {
        ...(usingTypechecking ? { 'project': [ './config/tsconfig.lint.json' ]} : null),
        'sourceType':       'module',
        'impliedStrict':    true,
    },
    'plugins': [
        '@typescript-eslint',
        'react',
        'eslint-plugin-react-hooks',
        'jsx-a11y',
        'eslint-plugin-tsdoc',

        //'import',
        //'jest',
        //'testing-library',
    ],
    'extends': [
        //'eslint:recommended',
        //'plugin:@typescript-eslint/recommended',
        //'plugin:@typescript-eslint/recommended-requiring-type-checking',
        //'plugin:react/recommended',
        //'plugin:eslint-plugin-react-hooks/recommended',
        //'plugin:jsx-a11y/recommended',

        // 'plugin:import/errors',
        // 'plugin:import/warnings',
        // 'plugin:import/typescript',

        //'plugin:jest/recommended',
        //'plugin:testing-library/recommended',
    ],
    'settings': {
        'react': {
            'version': 'detect',
        },
        // 'import/parsers': {
        //     '@typescript-eslint/parser': [ '.ts', '.tsx' ],
        // },
        // 'import/resolver': {
        //     'typescript': {
        //         'project': './config/tsconfig.base.json',
        //     },
        // },
    },
    'env': {
        'browser': true,
        'amd': true,
        'node': true,
        //'jest/globals': true,
    },
    'rules': {
        /* Possible Errors */
        'for-direction':                                                RECOMMENDED('error'),
        'getter-return':                                                COMPILER,
        'no-async-promise-executor':                                    RECOMMENDED('error'),
        'no-await-in-loop':                                             'off',
        'no-compare-neg-zero':                                          RECOMMENDED('error'),
        'no-cond-assign':                                               RECOMMENDED('error'),
        'no-console':                                                   'warn',
        'no-constant-condition':                                        RECOMMENDED('error'),
        'no-control-regex':                                             RECOMMENDED('error'),
        'no-debugger':                                                  RECOMMENDED('error'),
        'no-dupe-args':                                                 COMPILER,
        'no-dupe-else-if':                                              RECOMMENDED('error'),
        'no-dupe-keys':                                                 RECOMMENDED('error'),
        'no-duplicate-case':                                            RECOMMENDED('error'),
        'no-empty':                                                     RECOMMENDED('error'),
        'no-empty-character-class':                                     RECOMMENDED('error'),
        'no-ex-assign':                                                 RECOMMENDED('error'),
        'no-extra-boolean-cast':                                        RECOMMENDED('error'),
        'no-extra-parens':                                              TYPESCRIPT,
        'no-extra-semi':                                                TYPESCRIPT,
        'no-func-assign':                                               COMPILER,
        'no-import-assign':                                             COMPILER,
        'no-inner-declarations':                                        RECOMMENDED('error'),
        'no-invalid-regexp':                                            RECOMMENDED('error'),
        'no-irregular-whitespace':                                      RECOMMENDED('error'),
        'no-loss-of-precision':                                         TYPESCRIPT,
        'no-misleading-character-class':                                RECOMMENDED('error'),
        'no-obj-calls':                                                 COMPILER,
        'no-promise-executor-return':                                   'error',
        'no-prototype-builtins':                                        RECOMMENDED('error'),
        'no-regex-spaces':                                              RECOMMENDED('error'),
        'no-setter-return':                                             COMPILER,
        'no-sparse-arrays':                                             RECOMMENDED('error'),
        'no-template-curly-in-string':                                  'error',
        'no-unexpected-multiline':                                      RECOMMENDED('error'),
        'no-unreachable':                                               COMPILER,
        'no-unreachable-loop':                                          'error',
        'no-unsafe-finally':                                            RECOMMENDED('error'),
        'no-unsafe-negation':                                           COMPILER,
        'no-unsafe-optional-chaining':                                  'error',
        'no-useless-backreference':                                     'error',
        'require-atomic-updates':                                       'error',
        'use-isnan':                                                    RECOMMENDED('error'),
        'valid-typeof':                                                 COMPILER,

        /* Best Practices */
        'accessor-pairs':                                               'error',
        'array-callback-return':                                        'error',
        'block-scoped-var':                                             'error',
        'class-methods-use-this':                                       'off',
        'complexity':                                                   'off',
        'consistent-return':                                            'error',
        'curly':                                                        [ 'warn', 'multi-or-nest', 'consistent' ],
        'default-case':                                                 'error',
        'default-case-last':                                            'error',
        'default-param-last':                                           TYPESCRIPT,
        'dot-location':                                                 [ 'warn', 'property' ],
        'dot-notation':                                                 TYPESCRIPT,
        'eqeqeq':                                                       [ 'warn', 'smart' ],
        'grouped-accessor-pairs':                                       'error',
        'guard-for-in':                                                 'off',
        'max-classes-per-file':                                         'off',
        'no-alert':                                                     'error',
        'no-caller':                                                    'error',
        'no-case-declarations':                                         RECOMMENDED('error'),
        'no-constructor-return':                                        'error',
        'no-div-regex':                                                 'warn',
        'no-else-return':                                               'warn',
        'no-empty-function':                                            TYPESCRIPT,
        'no-empty-pattern':                                             RECOMMENDED('error'),
        'no-eq-null':                                                   'error',
        'no-eval':                                                      'error',
        'no-extend-native':                                             'error',
        'no-extra-bind':                                                'warn',
        'no-extra-label':                                               'warn',
        'no-fallthrough':                                               RECOMMENDED('error'),
        'no-floating-decimal':                                          'warn',
        'no-global-assign':                                             RECOMMENDED('error'),
        'no-implicit-coercion':                                         'warn',
        'no-implicit-globals':                                          'error',
        'no-implied-eval':                                              TYPESCRIPT,
        'no-invalid-this':                                              TYPESCRIPT,
        'no-iterator':                                                  'error',
        'no-labels':                                                    'off',
        'no-lone-blocks':                                               'error',
        'no-loop-func':                                                 TYPESCRIPT,
        'no-magic-numbers':                                             TYPESCRIPT,
        'no-multi-spaces':                                              'off',
        'no-multi-str':                                                 'error',
        'no-new':                                                       'error',
        'no-new-func':                                                  'error',
        'no-new-wrappers':                                              'error',
        'no-nonoctal-decimal-escape':                                   'error',
        'no-octal':                                                     RECOMMENDED('error'),
        'no-octal-escape':                                              'error',
        'no-param-reassign':                                            'off',      //TODO maybe
        'no-proto':                                                     'error',
        'no-redeclare':                                                 TYPESCRIPT,
        'no-restricted-properties':                                     'off',
        'no-return-assign':                                             'error',
        'no-return-await':                                              TYPESCRIPT,
        'no-script-url':                                                'error',
        'no-self-assign':                                               RECOMMENDED('error'),
        'no-self-compare':                                              'error',
        'no-sequences':                                                 'error',
        'no-throw-literal':                                             TYPESCRIPT,
        'no-unmodified-loop-condition':                                 'error',
        'no-unused-expressions':                                        TYPESCRIPT,
        'no-unused-labels':                                             OVERRIDE('warn', RECOMMENDED('error')),
        'no-useless-call':                                              'error',
        'no-useless-catch':                                             RECOMMENDED('error'),
        'no-useless-concat':                                            'error',
        'no-useless-escape':                                            RECOMMENDED('error'),
        'no-useless-return':                                            'warn',
        'no-void':                                                      'off',
        'no-warning-comments':                                          'off',      // TODO this would eliminate TODO comments (like this one)
        'no-with':                                                      RECOMMENDED('error'),
        'prefer-named-capture-group':                                   'off',
        'prefer-promise-reject-errors':                                 'error',
        'prefer-regex-literals':                                        'error',
        'radix':                                                        'error',
        'require-await':                                                TYPESCRIPT,
        'require-unicode-regexp':                                       'warn',
        'vars-on-top':                                                  'off',
        'wrap-iife':                                                    'warn',
        'yoda':                                                         'warn',

        // Strict Mode
        'strict':                                                       [ 'warn', 'never' ],

        // Variables
        'init-declarations':                                            TYPESCRIPT,
        'no-delete-var':                                                RECOMMENDED('error'),
        'no-label-var':                                                 'error',
        'no-restricted-globals':                                        [ 'error', 'event', 'name' ],
        'no-shadow':                                                    TYPESCRIPT,
        'no-shadow-restricted-names':                                   RECOMMENDED('error'),
        'no-undef':                                                     COMPILER,
        'no-undef-init':                                                'off',
        'no-undefined':                                                 'off',
        'no-unused-vars':                                               TYPESCRIPT,
        'no-use-before-define':                                         TYPESCRIPT,

        // Stylistic Issues
        'array-bracket-newline':                                        [ 'warn', 'consistent' ],
        'array-bracket-spacing': [
            'warn',
            'always',
            { singleValue: true, objectsInArrays: false, arraysInArrays: false },
        ],
        'array-element-newline':                                        [ 'warn', 'consistent' ],
        'block-spacing':                                                [ 'warn', 'always' ],
        'brace-style':                                                  TYPESCRIPT,
        'camelcase':                                                    'off',
        'capitalized-comments':                                         'off',
        'comma-dangle':                                                 TYPESCRIPT,
        'comma-spacing':                                                TYPESCRIPT,
        'comma-style':                                                  [ 'warn', 'last' ],
        'computed-property-spacing':                                    [ 'warn', 'never' ],
        'consistent-this':                                              [ 'error', 'self' ],
        'eol-last':                                                     [ 'warn', 'always' ],
        'func-call-spacing':                                            TYPESCRIPT,
        'func-name-matching':                                           [ 'error', 'always' ],
        'func-names':                                                   [ 'error', 'as-needed' ],
        'func-style':                                                   [ 'error', 'declaration', { allowArrowFunctions: true }],
        'function-call-argument-newline':                               [ 'warn', 'consistent' ],
        'function-paren-newline':                                       [ 'warn', 'consistent' ],
        'id-denylist':                                                  'off',
        'id-length':                                                    'off',
        'id-match':                                                     'off',
        'implicit-arrow-linebreak':                                     'off',
        'indent':                                                       TYPESCRIPT,
        'jsx-quotes':                                                   [ 'warn', 'prefer-double' ],
        'key-spacing':                                                  [ 'warn', { beforeColon: false, afterColon: true, mode: 'minimum' }],
        'keyword-spacing':                                              TYPESCRIPT,
        'line-comment-position':                                        'off',
        'linebreak-style':                                              [ 'warn', 'unix' ],
        'lines-around-comment':                                         'off',
        'lines-between-class-members':                                  TYPESCRIPT,
        'max-depth':                                                    'off',
        'max-len':                                                      [ 'error', 160 ],
        'max-lines':                                                    'off',
        'max-lines-per-function':                                       'off',
        'max-nested-callbacks':                                         'off',
        'max-params':                                                   'off',
        'max-statements':                                               'off',
        'max-statements-per-line':                                      'off',
        'multiline-comment-style':                                      'off',
        'multiline-ternary':                                            'off',
        'new-cap':                                                      [ 'error', { newIsCap: true, capIsNew: false }],
        'new-parens':                                                   [ 'warn', 'always' ],
        'newline-per-chained-call':                                     'off',
        'no-array-constructor':                                         TYPESCRIPT,
        'no-bitwise':                                                   'off',
        'no-continue':                                                  'off',
        'no-inline-comments':                                           'off',
        'no-lonely-if':                                                 'warn',
        'no-mixed-operators':                                           'off',
        'no-mixed-spaces-and-tabs':                                     RECOMMENDED('error'),
        'no-multi-assign':                                              'off',
        'no-multiple-empty-lines':                                      [ 'warn', { 'max': 1, 'maxBOF': 0, 'maxEOF': 0 }],
        'no-negated-condition':                                         'off',
        'no-nested-ternary':                                            'off',
        'no-new-object':                                                'error',
        'no-plusplus':                                                  'off',
        'no-restricted-syntax':                                         'off',
        'no-tabs':                                                      'warn',
        'no-ternary':                                                   'off',
        'no-trailing-spaces':                                           'warn',
        'no-underscore-dangle':                                         'off',
        'no-unneeded-ternary':                                          'warn',
        'no-whitespace-before-property':                                'warn',
        'nonblock-statement-body-position':                             'off',
        'object-curly-newline':                                         [ 'warn', { consistent: true }],
        'object-curly-spacing':                                         TYPESCRIPT,
        'object-property-newline':                                      [ 'warn', { allowAllPropertiesOnSameLine: true }],
        'one-var':                                                      'off',
        'one-var-declaration-per-line':                                 [ 'warn', 'always' ],
        'operator-assignment':                                          'off',
        'operator-linebreak':                                           [ 'warn', 'after', { overrides: { '?': 'before', ':': 'before' }}],
        'padded-blocks':                                                [ 'warn', 'never' ],
        'padding-line-between-statements':                              'off',
        'prefer-exponentiation-operator':                               'off',
        'prefer-object-spread':                                         'warn',
        'quote-props':                                                  'off', // TODO [ 'warn', 'consistent-as-needed' ],
        'quotes':                                                       TYPESCRIPT,
        'semi':                                                         TYPESCRIPT,
        'semi-spacing':                                                 [ 'warn', { before: false, after: true }],
        'semi-style':                                                   [ 'warn', 'last' ],
        'sort-keys':                                                    'off',
        'sort-vars':                                                    'off',
        'space-before-blocks':                                          [ 'warn', 'always' ],
        'space-before-function-paren':                                  TYPESCRIPT,
        'space-in-parens':                                              [ 'warn', 'never' ],
        'space-infix-ops':                                              TYPESCRIPT,
        'space-unary-ops':                                              [ 'warn', { words: true, nonwords: false, overrides: { 'typeof': false }}],
        'spaced-comment':                                               'off',
        'switch-colon-spacing':                                         [ 'warn', { before: false, after: true }],
        'template-tag-spacing':                                         [ 'warn', 'never' ],
        'unicode-bom':                                                  'off',
        'wrap-regex':                                                   'off',

        // ECMAScript 6
        'arrow-body-style':                                             'off',
        'arrow-parens':                                                 [ 'warn', 'as-needed' ],
        'arrow-spacing':                                                [ 'warn', { before: true, after: true }],
        'constructor-super':                                            COMPILER,
        'generator-star-spacing':                                       [ 'warn', { before: true, after: false }],
        'no-class-assign':                                              RECOMMENDED('error'),
        'no-confusing-arrow':                                           [ 'warn', { allowParens: true }],
        'no-const-assign':                                              COMPILER,
        'no-dupe-class-members':                                        TYPESCRIPT,
        'no-duplicate-imports':                                         TYPESCRIPT,
        'no-new-symbol':                                                COMPILER,
        'no-restricted-exports':                                        'off',
        'no-restricted-imports':                                        'off',
        'no-this-before-super':                                         COMPILER,
        'no-useless-computed-key':                                      'warn',
        'no-useless-constructor':                                       TYPESCRIPT,
        'no-useless-rename':                                            'warn',
        'no-var':                                                       COMPILER,
        'object-shorthand':                                             'off',
        'prefer-arrow-callback':                                        'warn',
        'prefer-const':                                                 COMPILER,
        'prefer-destructuring':                                         [ 'warn', { array: true, object: true }],
        'prefer-numeric-literals':                                      'warn',
        'prefer-rest-params':                                           RECOMMENDED('error'),
        'prefer-spread':                                                RECOMMENDED('error'),
        'prefer-template':                                              'warn',
        'require-yield':                                                RECOMMENDED('error'),
        'rest-spread-spacing':                                          [ 'warn', 'never' ],
        'sort-imports':                                                 'off',
        'symbol-description':                                           'off',
        'template-curly-spacing':                                       [ 'warn', 'never' ],
        'yield-star-spacing':                                           [ 'warn', { before: true, after: false }],

        // Supported Rules
        '@typescript-eslint/adjacent-overload-signatures':              RECOMMENDED('error'),
        '@typescript-eslint/array-type':                                [ 'warn', { default: 'array' }],
        '@typescript-eslint/await-thenable':                            TC(RECOMMENDED('error')),
        '@typescript-eslint/ban-ts-comment':                            RECOMMENDED('error'),
        '@typescript-eslint/ban-tslint-comment':                        'off',
        '@typescript-eslint/ban-types':                                 RECOMMENDED('error'),
        '@typescript-eslint/class-literal-property-style':              [ 'warn', 'fields' ],
        '@typescript-eslint/consistent-indexed-object-style':           'off',
        '@typescript-eslint/consistent-type-assertions':                [ 'error', { 'assertionStyle': 'as' }],
        '@typescript-eslint/consistent-type-definitions':               [ 'warn', 'type' ],
        '@typescript-eslint/consistent-type-imports':                   [ 'warn', { 'prefer': 'type-imports' }],
        '@typescript-eslint/explicit-function-return-type':             'off',
        '@typescript-eslint/explicit-member-accessibility':             [ 'warn', { accessibility: 'explicit', overrides: { constructors: 'no-public' }}],
        '@typescript-eslint/explicit-module-boundary-types':            OVERRIDE('off', RECOMMENDED('warn')),
        '@typescript-eslint/member-delimiter-style':                    'warn',
        '@typescript-eslint/member-ordering':                           'off',
        '@typescript-eslint/method-signature-style':                    [ 'error', 'property' ],
        '@typescript-eslint/naming-convention':                         TC('off'),
        '@typescript-eslint/no-base-to-string':                         TC('off'),
        '@typescript-eslint/no-confusing-non-null-assertion':           'warn',
        '@typescript-eslint/no-confusing-void-expression':              TC('warn'),
        '@typescript-eslint/no-dynamic-delete':                         'off',
        '@typescript-eslint/no-empty-interface':                        RECOMMENDED('error'),
        '@typescript-eslint/no-explicit-any':                           OVERRIDE('off', RECOMMENDED('warn')),
        '@typescript-eslint/no-extra-non-null-assertion':               RECOMMENDED('error'),
        '@typescript-eslint/no-extraneous-class':                       'warn',
        '@typescript-eslint/no-floating-promises':                      TC(RECOMMENDED('error')),
        '@typescript-eslint/no-for-in-array':                           TC(RECOMMENDED('error')),
        '@typescript-eslint/no-implicit-any-catch':                     'warn',
        '@typescript-eslint/no-inferrable-types':                       OVERRIDE('warn', RECOMMENDED('error')),
        '@typescript-eslint/no-invalid-void-type':                      'off', // TODO Investigate
        '@typescript-eslint/no-misused-new':                            RECOMMENDED('error'),
        '@typescript-eslint/no-misused-promises':                       TC(RECOMMENDED('error')),
        '@typescript-eslint/no-namespace':                              RECOMMENDED('error'),
        '@typescript-eslint/no-non-null-asserted-optional-chain':       RECOMMENDED('error'),
        '@typescript-eslint/no-non-null-assertion':                     OVERRIDE('off', RECOMMENDED('warn')),
        '@typescript-eslint/no-parameter-properties':                   'off',
        '@typescript-eslint/no-require-imports':                        'error',
        '@typescript-eslint/no-this-alias':                             RECOMMENDED('error'),
        '@typescript-eslint/no-type-alias':                             'off',
        '@typescript-eslint/no-unnecessary-boolean-literal-compare':    TC('warn'),
        '@typescript-eslint/no-unnecessary-condition':                  TC('warn'),
        '@typescript-eslint/no-unnecessary-qualifier':                  TC('warn'),
        '@typescript-eslint/no-unnecessary-type-arguments':             TC('warn'),
        '@typescript-eslint/no-unnecessary-type-assertion':             TC(RECOMMENDED('error')),
        '@typescript-eslint/no-unnecessary-type-constraint':            'warn',
        '@typescript-eslint/no-unsafe-assignment':                      TC(OVERRIDE('off', RECOMMENDED('error'))),
        '@typescript-eslint/no-unsafe-call':                            TC(OVERRIDE('off', RECOMMENDED('error'))),
        '@typescript-eslint/no-unsafe-member-access':                   TC(OVERRIDE('off', RECOMMENDED('error'))),
        '@typescript-eslint/no-unsafe-return':                          TC(OVERRIDE('off', RECOMMENDED('error'))),
        '@typescript-eslint/no-var-requires':                           RECOMMENDED('error'),
        '@typescript-eslint/non-nullable-type-assertion-style':         TC('warn'),
        '@typescript-eslint/prefer-as-const':                           OVERRIDE('warn', RECOMMENDED('error')),
        '@typescript-eslint/prefer-enum-initializers':                  'warn',
        '@typescript-eslint/prefer-for-of':                             'error',
        '@typescript-eslint/prefer-function-type':                      'warn',
        '@typescript-eslint/prefer-includes':                           TC('warn'),
        '@typescript-eslint/prefer-literal-enum-member':                'error',
        '@typescript-eslint/prefer-namespace-keyword':                  OVERRIDE('warn', RECOMMENDED('error')),
        '@typescript-eslint/prefer-nullish-coalescing':                 TC('error'),
        '@typescript-eslint/prefer-optional-chain':                     'error',
        '@typescript-eslint/prefer-readonly':                           TC('warn'),
        '@typescript-eslint/prefer-readonly-parameter-types':           'off',  // TODO maybe??
        '@typescript-eslint/prefer-reduce-type-parameter':              TC('warn'),
        '@typescript-eslint/prefer-regexp-exec':                        TC(RECOMMENDED('error')),
        '@typescript-eslint/prefer-string-starts-ends-with':            TC('warn'),
        '@typescript-eslint/prefer-ts-expect-error':                    TC('warn'),
        '@typescript-eslint/promise-function-async':                    TC(OVERRIDE('warn', RECOMMENDED('error'))),
        '@typescript-eslint/require-array-sort-compare':                TC('off'),
        '@typescript-eslint/restrict-plus-operands':                    TC(RECOMMENDED('error')),
        '@typescript-eslint/restrict-template-expressions':             TC(OVERRIDE('off', RECOMMENDED('error'))),
        '@typescript-eslint/sort-type-union-intersection-members':      'off',
        '@typescript-eslint/strict-boolean-expressions':                TC('off'),
        '@typescript-eslint/switch-exhaustiveness-check':               TC('error'),
        '@typescript-eslint/triple-slash-reference':                    RECOMMENDED('error'),
        '@typescript-eslint/type-annotation-spacing': [
            'warn',
            { before: false, after: true, overrides: { 'arrow': { before: true, after: true }}},
        ],
        '@typescript-eslint/typedef':                                   'off',
        '@typescript-eslint/unbound-method':                            TC(RECOMMENDED('error')),
        '@typescript-eslint/unified-signatures':                        'error',

        // Extension Rules
        '@typescript-eslint/brace-style':                               [ 'warn', '1tbs', { 'allowSingleLine': true }],
        '@typescript-eslint/comma-dangle':                              [ 'warn', 'always-multiline' ],
        '@typescript-eslint/comma-spacing':                             [ 'warn', { 'before': false, 'after': true }],
        '@typescript-eslint/default-param-last':                        'error',
        '@typescript-eslint/dot-notation':                              TC('warn'),
        '@typescript-eslint/func-call-spacing':                         [ 'warn', 'never' ],
        '@typescript-eslint/indent':                                    [
            'warn',
            4,
            { 'MemberExpression': 0, 'SwitchCase': 1, 'offsetTernaryExpressions': true },
        ],
        '@typescript-eslint/init-declarations':                         'off',
        '@typescript-eslint/keyword-spacing': [
            'warn',
            {
                'before': true,
                'after': true,
                'overrides': {
                    'if':     { 'after': false },
                    'for':    { 'after': false },
                    'while':  { 'after': false },
                    'catch':  { 'after': false },
                    'switch': { 'after': false },
                },
            },
        ],
        '@typescript-eslint/lines-between-class-members':               [ 'warn', 'always', { 'exceptAfterSingleLine': true }],
        '@typescript-eslint/no-array-constructor':                      RECOMMENDED('error'),
        '@typescript-eslint/no-dupe-class-members':                     'error',
        '@typescript-eslint/no-duplicate-imports':                      'error',
        '@typescript-eslint/no-empty-function':                         OVERRIDE('off', RECOMMENDED('error')),
        '@typescript-eslint/no-extra-parens':                           'off',
        '@typescript-eslint/no-extra-semi':                             RECOMMENDED('error'),
        '@typescript-eslint/no-implied-eval':                           TC(RECOMMENDED('error')),
        '@typescript-eslint/no-invalid-this':                           'error',
        '@typescript-eslint/no-loop-func':                              'warn',
        '@typescript-eslint/no-loss-of-precision':                      'error',
        // TODO this is a nice rule, but it seems a little too expansive
        '@typescript-eslint/no-magic-numbers': [
            'off',
            { 'ignoreEnums': true, 'ignoreNumericLiteralTypes': true, ignoreReadonlyClassProperties: true },
        ],
        '@typescript-eslint/no-redeclare':                              'error',
        '@typescript-eslint/no-shadow':                                 'warn',
        '@typescript-eslint/no-throw-literal':                          TC('error'),
        '@typescript-eslint/no-unused-expressions':                     'error',
        '@typescript-eslint/no-unused-vars': [
            RECOMMENDED('warn'),
            {
                'args': 'after-used',
                'argsIgnorePattern': '^_',
                'varsIgnorePattern': '^_',
                'ignoreRestSiblings': true,
                'caughtErrorsIgnorePattern': '^_',
            },
        ],
        '@typescript-eslint/no-use-before-define':                      'off',
        '@typescript-eslint/no-useless-constructor':                    'error',
        '@typescript-eslint/object-curly-spacing':                      [ 'warn', 'always', { arraysInObjects: false, objectsInObjects: false }],
        '@typescript-eslint/quotes':                                    [ 'warn', 'single', { 'avoidEscape': true }],
        '@typescript-eslint/require-await':                             TC(OVERRIDE('off', RECOMMENDED('error'))),
        '@typescript-eslint/return-await':                              TC('warn'),
        '@typescript-eslint/semi':                                      'warn',
        '@typescript-eslint/space-before-function-paren':               [ 'warn', { 'anonymous': 'never', 'named': 'never', 'asyncArrow': 'always' }],
        '@typescript-eslint/space-infix-ops':                           'warn',

        'react/boolean-prop-naming':                                    'off',
        'react/button-has-type':                                        'off',
        'react/default-props-match-prop-types':                         'off',
        'react/destructuring-assignment':                               'off',
        'react/display-name':                                           OVERRIDE('off', RECOMMENDED('error')),
        'react/forbid-component-props':                                 'off',
        'react/forbid-dom-props':                                       'off',
        'react/forbid-elements':                                        'off',
        'react/forbid-foreign-prop-types':                              'off',
        'react/forbid-prop-types':                                      'off',
        'react/function-component-definition':                          'off', //TODO Maybe
        'react/no-access-state-in-setstate':                            'off',
        'react/no-adjacent-inline-elements':                            'off',
        'react/no-array-index-key':                                     'off',
        'react/no-children-prop':                                       RECOMMENDED('error'),
        'react/no-danger':                                              'off',
        'react/no-danger-with-children':                                RECOMMENDED('error'),
        'react/no-deprecated':                                          RECOMMENDED('error'),
        'react/no-did-mount-set-state':                                 'error',
        'react/no-did-update-set-state':                                'error',
        'react/no-direct-mutation-state':                               RECOMMENDED('error'),
        'react/no-find-dom-node':                                       RECOMMENDED('error'),
        'react/no-is-mounted':                                          RECOMMENDED('error'),
        'react/no-multi-comp':                                          'off',
        'react/no-redundant-should-component-update':                   'error',
        'react/no-render-return-value':                                 RECOMMENDED('error'),
        'react/no-set-state':                                           'off',
        'react/no-string-refs':                                         RECOMMENDED('error'),
        'react/no-this-in-sfc':                                         'error',
        'react/no-typos':                                               'error',
        'react/no-unescaped-entities':                                  RECOMMENDED('error'),
        'react/no-unknown-property':                                    RECOMMENDED('error'),
        'react/no-unsafe':                                              'error',
        'react/no-unused-prop-types':                                   'error',
        'react/no-unused-state':                                        'error',
        'react/no-will-update-set-state':                               'error',
        'react/prefer-es6-class':                                       [ 'error', 'always' ],
        'react/prefer-read-only-props':                                 'warn',
        'react/prefer-stateless-function':                              'error',
        'react/prop-types':                                             OVERRIDE('off', RECOMMENDED('error')),
        'react/react-in-jsx-scope':                                     RECOMMENDED('error'),
        'react/require-default-props':                                  OVERRIDE('off', RECOMMENDED('error')),
        'react/require-optimization':                                   'off',
        'react/require-render-return':                                  RECOMMENDED('error'),
        'react/self-closing-comp':                                      'warn',
        'react/sort-comp':                                              'off',
        'react/sort-prop-types':                                        'off',
        'react/state-in-constructor':                                   'error',
        'react/static-property-placement':                              'off',
        'react/style-prop-object':                                      'error',
        'react/void-dom-elements-no-children':                          'error',

        // JSX-specific rules
        'react/jsx-boolean-value':                                      [ 'warn', 'always' ],
        'react/jsx-child-element-spacing':                              'off',
        'react/jsx-closing-bracket-location':                           [ 'warn', 'tag-aligned' ],
        'react/jsx-closing-tag-location':                               'warn',
        'react/jsx-curly-brace-presence':                               'warn',
        'react/jsx-curly-newline':                                      [ 'warn', 'consistent' ],
        'react/jsx-curly-spacing':                                      [ 'warn', 'never' ],
        'react/jsx-equals-spacing':                                     [ 'warn', 'never' ],
        'react/jsx-filename-extension':                                 [ 'error', { allow: 'as-needed', extensions: [ '.jsx', '.tsx' ]}],
        'react/jsx-first-prop-new-line':                                [ 'warn', 'multiline' ],
        'react/jsx-fragments':                                          [ 'warn', 'syntax' ],
        'react/jsx-handler-names':                                      'error',
        'react/jsx-indent':                                             [ 'warn', 4 ],
        'react/jsx-indent-props':                                       [ 'warn', 4 ],
        'react/jsx-key': [
            RECOMMENDED('error'),
            { checkFragmentShorthand: true, checkKeyMustBeforeSpread: true },
        ],
        'react/jsx-max-depth':                                          'off',
        'react/jsx-max-props-per-line':                                 'off',
        'react/jsx-newline':                                            'off',
        'react/jsx-no-bind':                                            'off',
        'react/jsx-no-comment-textnodes':                               RECOMMENDED('error'),
        'react/jsx-no-constructed-context-values':                      'off',  //TODO Maybe
        'react/jsx-no-duplicate-props':                                 RECOMMENDED('error'),
        'react/jsx-no-literals':                                        'off',
        'react/jsx-no-script-url':                                      'error',
        'react/jsx-no-target-blank':                                    RECOMMENDED('error'),
        'react/jsx-no-undef':                                           RECOMMENDED('error'),
        'react/jsx-no-useless-fragment':                                'warn',
        'react/jsx-one-expression-per-line':                            'off',
        'react/jsx-pascal-case':                                        'error',
        'react/jsx-props-no-multi-spaces':                              'warn',
        'react/jsx-props-no-spreading':                                 'off',
        'react/jsx-sort-default-props':                                 'off',
        'react/jsx-sort-props':                                         'off',
        'react/jsx-tag-spacing':                                        [ 'warn', { beforeClosing: 'never' }],
        'react/jsx-uses-react':                                         RECOMMENDED('error'),
        'react/jsx-uses-vars':                                          RECOMMENDED('error'),

        // React-hooks
        'react-hooks/rules-of-hooks':                                   RECOMMENDED('error'),
        'react-hooks/exhaustive-deps':                                  OVERRIDE('off', RECOMMENDED('error')),

        // JSX-A11Y
        'jsx-a11y/alt-text':                                            RECOMMENDED('error'),
        'jsx-a11y/anchor-has-content':                                  RECOMMENDED('error'),
        'jsx-a11y/anchor-is-valid':                                     RECOMMENDED('error'),
        'jsx-a11y/aria-activedescendant-has-tabindex':                  RECOMMENDED('error'),
        'jsx-a11y/aria-props':                                          RECOMMENDED('error'),
        'jsx-a11y/aria-proptypes':                                      RECOMMENDED('error'),
        'jsx-a11y/aria-role':                                           RECOMMENDED('error'),
        'jsx-a11y/aria-unsupported-elements':                           RECOMMENDED('error'),
        'jsx-a11y/autocomplete-valid':                                  RECOMMENDED('error'),
        'jsx-a11y/click-events-have-key-events':                        RECOMMENDED('error'),
        'jsx-a11y/heading-has-content':                                 RECOMMENDED('error'),
        'jsx-a11y/html-has-lang':                                       RECOMMENDED('error'),
        'jsx-a11y/iframe-has-title':                                    RECOMMENDED('error'),
        'jsx-a11y/img-redundant-alt':                                   RECOMMENDED('error'),
        'jsx-a11y/interactive-supports-focus':  [
            RECOMMENDED('error'),
            { tabbable: [ 'button', 'checkbox', 'link', 'searchbox', 'spinbutton', 'switch', 'textbox' ]},
        ],
        'jsx-a11y/label-has-associated-control':                        RECOMMENDED('error'),
        'jsx-a11y/lang':                                                'off',
        'jsx-a11y/media-has-caption':                                   RECOMMENDED('error'),
        'jsx-a11y/mouse-events-have-key-events':                        RECOMMENDED('error'),
        'jsx-a11y/no-access-key':                                       RECOMMENDED('error'),
        'jsx-a11y/no-autofocus':                                        OVERRIDE('off', RECOMMENDED('error')),
        'jsx-a11y/no-distracting-elements':                             RECOMMENDED('error'),
        'jsx-a11y/no-interactive-element-to-noninteractive-role':       [ RECOMMENDED('error'), { tr: [ 'none', 'presentation' ]}],
        'jsx-a11y/no-noninteractive-element-interactions': [
            RECOMMENDED('error'),
            {
                handlers: [ 'onClick', 'onMouseDown', 'onMouseUp', 'onKeyPress', 'onKeyDown', 'onKeyUp' ],
                alert:    [ 'onKeyup', 'onKeyDown', 'onKeyPress' ],
                body:     [ 'onError', 'onLoad' ],
                dialog:   [ 'onKeyUp', 'onKeyDown', 'onKeyPress' ],
                iframe:   [ 'onError', 'onLoad' ],
                img:      [ 'onError', 'onLoad' ],
            },
        ],
        'jsx-a11y/no-noninteractive-element-to-interactive-role': [
            RECOMMENDED('error'),
            {
                ul:    [ 'listbox', 'menu', 'menubar', 'radiogroup', 'tablist', 'tree', 'treegrid' ],
                ol:    [ 'listbox', 'menu', 'menubar', 'radiogroup', 'tablist', 'tree', 'treegrid' ],
                li:    [ 'menuitem', 'option', 'row', 'tab', 'treeitem' ],
                table: [ 'grid' ],
                td:    [ 'gridcell' ],
            },
        ],
        'jsx-a11y/no-noninteractive-tabindex': [
            RECOMMENDED('error'),
            { tags: [], roles: [ 'tabpanel' ], allowExpressionValues: true },
        ],
        'jsx-a11y/no-onchange':                                         'off', // TODO listed as RECOMMENDED('error') in docs, but not in code
        'jsx-a11y/no-redundant-roles':                                  RECOMMENDED('error'),
        'jsx-a11y/no-static-element-interactions': [
            RECOMMENDED('error'),
            { handlers: [ 'onClick', 'onMouseDown', 'onMouseUp', 'onKeyPress', 'onKeyDown', 'onKeyUp' ]},
        ],
        'jsx-a11y/role-has-required-aria-props':                        RECOMMENDED('error'),
        'jsx-a11y/role-supports-aria-props':                            RECOMMENDED('error'),
        'jsx-a11y/scope':                                               RECOMMENDED('error'),
        'jsx-a11y/tabindex-no-positive':                                RECOMMENDED('error'),

        // tsdoc
        'tsdoc/syntax':                                                 OVERRIDE('error', RECOMMENDED('warn')),
    },
};
